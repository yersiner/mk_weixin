webpackJsonp([3],{100:function(t,e){},101:function(t,e,n){"use strict";e.a={name:"Loading",props:{load:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},success:{type:Boolean,default:!1},error:{type:Boolean,default:!1},text:{type:String,default:""}},data:function(){return{section:"test Found"}}}},102:function(t,e,n){"use strict";var o=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.load?"show":"hide",attrs:{id:"loadingToast"}},[e("div",{staticClass:"weui-mask_transparent"}),this._v(" "),e("div",{staticClass:"weui-toast"},[e("i",{staticClass:"weui-icon_toast",class:{"weui-loading":this.loading,"weui-icon-success-no-circle":this.success,"weui-icon-warn":this.error}}),this._v(" "),e("p",{staticClass:"weui-toast__content"},[this._v(this._s(this.text))])])])};o._withStripped=!0;var s={render:o,staticRenderFns:[]};e.a=s},103:function(t,e,n){"use strict";var o=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"App"}},[e("Loading",{attrs:{load:this.isLoading.load,loading:this.isLoading.load,text:this.isLoading.text}}),this._v(" "),e("Loading",{attrs:{load:this.isLoading.error,error:this.isLoading.error,text:this.isLoading.text}}),this._v(" "),e("Loading",{attrs:{load:this.isLoading.success,success:this.isLoading.success,text:this.isLoading.text}}),this._v(" "),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)};o._withStripped=!0;var s={render:o,staticRenderFns:[]};e.a=s},104:function(t,e,n){"use strict";var o=n(105),s=n(109),a=n(113),i=[{path:"/apply",component:function(){return n.e(1).then(n.bind(null,154))},meta:{description:"健康档案",auth:!0}},{path:"/bar",component:o.a,meta:{description:"健康档案",auth:!1}},{path:"/combine",component:function(){return n.e(2).then(n.bind(null,155))},meta:{description:"健康档案",auth:!1}},{name:"memberlist",path:"/memberlist/:code",component:function(){return n.e(0).then(n.bind(null,156))}},{path:"/user/:id",name:"user",component:s.a},{path:"*",component:a.a}];e.a=i},105:function(t,e,n){"use strict";var o=n(107),s=n(108),a=!1,i=function(t){a||n(106)},r=n(9)(o.a,s.a,!1,i,"data-v-f19c0cda",null);r.options.__file="mkApp/components/views/Bar.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.a=r.exports},106:function(t,e){},107:function(t,e,n){"use strict";e.a={name:"Bar",data:function(){return{section:"test Bar"}}}},108:function(t,e,n){"use strict";var o=function(){var t=this.$createElement;this._self._c;return this._m(0,!1,!1)};o._withStripped=!0;var s={render:o,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"bar"}},[e("h1",[this._v("Hello Bar!")])])}]};e.a=s},109:function(t,e,n){"use strict";var o=n(111),s=n(112),a=!1,i=function(t){a||n(110)},r=n(9)(o.a,s.a,!1,i,"data-v-8b3b7d0a",null);r.options.__file="mkApp/components/views/User.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.a=r.exports},110:function(t,e){},111:function(t,e,n){"use strict";e.a={name:"user",data:function(){return{title:"userInfo"}},watch:{$route:function(t,e){console.log("to",t),console.log("from",e)}},beforeRouteUpdate:function(t,e,n){console.log("before+from",e),n()}}},112:function(t,e,n){"use strict";var o=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"user"}},[e("h1",[this._v(this._s(this.title)+"Hello Usernice "+this._s(this.$route.params.id)+"!")])])};o._withStripped=!0;var s={render:o,staticRenderFns:[]};e.a=s},113:function(t,e,n){"use strict";var o=n(115),s=n(116),a=!1,i=function(t){a||n(114)},r=n(9)(o.a,s.a,!1,i,"data-v-4a86fca3",null);r.options.__file="mkApp/components/NotFoundView.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.a=r.exports},114:function(t,e){},115:function(t,e,n){"use strict";e.a={name:"NotFound",data:function(){return{section:"test Found"}}}},116:function(t,e,n){"use strict";var o=function(){var t=this.$createElement;return(this._self._c||t)("h1",[this._v("Not Found")])};o._withStripped=!0;var s={render:o,staticRenderFns:[]};e.a=s},118:function(t,e,n){"use strict";function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log(e,n),t){if(e)return c()({method:t,url:e,data:n});console.error("API function call requires url argument")}else console.error("API function call requires method argument")}var s=n(119),a=n.n(s),i=n(27),r=n.n(i),u=n(122),c=n.n(u),d=n(48),l=n(28);d.a.use(l.a),e.a=new l.a.Store({state:{isLoading:{load:!1,text:"正在加载",success:!1,error:!1},openId:localStorage.getItem("access_token")||"",status:-1,HostList:{columns:1,pData1:[]},MemberList:[]},actions:{fetchApplyStatus:function(t){t.commit;var e=t.state;t.dispatch;return o("post","/weichat/getApplyStatus",{openId:e.openId})},bindHealthNum:function(t,e){t.commit;return o("post","/weichat/bindHealthNum",{openId:t.state.openId,healthNum:e})},fetchMemberList:function(t,e){t.commit;return new r.a(function(t,e){setTimeout(function(){console.log(888888888),t()},1e3)})},fetchHospitalList:function(t){var e=t.commit;return o("post","/weichat/getHospital",{region_id:""}).then(function(t){e("updateHostList",t.data.obj)})},submitApply:function(t,e){var n=t.commit;return n("updateLoadingStatus",{isLoading:!0,type:"load",text:"正在提交"}),o("post","/weichat/applySign",e).then(function(t){n("updateLoadingStatus",{isLoading:!1,type:"load",text:"正在提交"});var e=t.data;200===e.code&&n("updateStatus",{status:e.obj.status})}).catch(function(){console.log("请求失败")})},fetchOpenId:function(t,e){t.commit;return o("post","/api/getAuth",{code:e})},loadCaptcha:function(){}},mutations:{updateLoadingStatus:function(t,e){"load"===e.type?t.isLoading.load=e.isLoading:"success"===e.type?t.isLoading.success=e.isLoading:"error"===e.type&&(t.isLoading.error=e.isLoading),t.isLoading.text=e.text},updateHostList:function(t,e){var n=e.list;console.log("hotlist----\x3e",n);var o=!0,s=!1,i=void 0;try{for(var r,u=a()(n);!(o=(r=u.next()).done);o=!0){var c=r.value;t.HostList.pData1.push({text:c.full_name,value:c._id})}}catch(t){s=!0,i=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw i}}console.log(t.HostList.pData1)},updateStatus:function(t,e){t.status=e.status},updateOpenId:function(t,e){console.log(e),t.openId=e.openId}},getters:{}})},141:function(t,e,n){"use strict";var o=n(142),s=n(148),a=n.n(s),i=n(56),r=n.n(i);e.a={install:function(t,e){function n(t,e,n){var o=r.a.parse(a.a.parse(window.location.href).query).code;if(function(t){t&&(s.setAuthCode(t),s.removeUrlCodeQuery())}(o),!o&&!function(t,e,n){var o=s.getAuthCode();return!((t.meta&&t.meta.auth||o)&&(o||s.getAccessToken()?o&&!s.getAccessToken()&&(s.getCodeCallback(n),1):(s.openAuthPage(window.location.href),1)))}(t,0,n))return!1;n()}console.log(e);var s=new o.a(e),i=e.router;if(!i)return!1;i.beforeEach(function(t,e,o){n(t,0,o)})}}},142:function(t,e,n){"use strict";var o=n(49),s=n.n(o),a=n(143),i=n.n(a),r=n(144),u=n.n(r),c=function(){function t(e){i()(this,t);this.config=s()({appid:"",responseType:"code",scope:"snsapi_base ",getCodeCallback:function(){}},e)}return u()(t,[{key:"openAuthPage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,e=t.split("#");window.sessionStorage.setItem("redirect_path",e[1]),t=encodeURIComponent(e[0]),this.removeAccessToken(),this.removeAuthCode();var n="?appid="+this.config.appid+"&redirect_uri="+t+"&response_type="+this.config.responseType+"&scope="+this.config.scope+"#wechat_redirect";window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize"+n}},{key:"setAuthCode",value:function(t){return!!t&&(window.sessionStorage.setItem("auth_code",t),!0)}},{key:"getAuthCode",value:function(){var t=window.sessionStorage.getItem("auth_code");return t||""}},{key:"removeAuthCode",value:function(){window.sessionStorage.removeItem("auth_code")}},{key:"removeUrlCodeQuery",value:function(){var t=window.location,e=t.search;e&&(e=e.substr(1));var n=t.origin,o=t.pathname;o&&(n+=o);var s=e.split("&").filter(function(t){return-1===t.indexOf("code=")&&-1===t.indexOf("state=")});s.length>0&&(n+="?"+s.join("&"));var a=t.hash;a&&(n+=a),window.location.href=n}},{key:"setAccessToken",value:function(t){return!!t&&(window.localStorage.setItem("access_token",t),!0)}},{key:"getAccessToken",value:function(){return window.localStorage.getItem("access_token")}},{key:"removeAccessToken",value:function(){window.localStorage.removeItem("access_token")}},{key:"next",value:function(t){var e=this;return function(n,o){n?(e.setAccessToken(n),o?t(o):t()):(e.removeAccessToken(),o&&t(o)),e.removeAuthCode()}}},{key:"getCodeCallback",value:function(t){return this.config.getCodeCallback(this.getAuthCode(),this.next(t),window.sessionStorage.getItem("redirect_path"))}}]),t}();e.a=c},57:function(t,e,n){t.exports=n(58)},58:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(27),s=n.n(o),a=n(48),i=n(89),r=n(90),u=n(104),c=n(117),d=n.n(c),l=n(118),p=n(141);a.a.use(i.a),Object.defineProperty(a.a.prototype,"$lodash",{value:d.a});n(153).attach(document.body);var f=new i.a({routes:u.a,linkActiveClass:"active"});a.a.use(p.a,{router:f,appid:"wx0d8e9309d7e36ca1",responseType:"code",scope:"snsapi_base",getCodeCallback:function(t,e,n){l.a.dispatch("fetchOpenId",t).then(function(t){var o=t.data.openid;l.a.commit("updateOpenId",{openId:o}),e(o,{path:n})})}}),f.beforeResolve(function(t,e,n){var o=f.getMatchedComponents(t),a=f.getMatchedComponents(e),i=!1,r=o.filter(function(t,e){return i||(i=a[e]!==t)});if(!r.length)return n();l.a.commit("updateLoadingStatus",{isLoading:!0,type:"load",text:"正在加载"}),s.a.all(r.map(function(e){if(e.asyncData)return e.asyncData({store:l.a,route:t})})).then(function(){console.log("加载成功"),l.a.commit("updateLoadingStatus",{isLoading:!1,type:"load",text:"正在加载"}),n()}).catch(n)}),new a.a({el:"#root",store:l.a,router:f,render:function(t){return t(r.a)}})},90:function(t,e,n){"use strict";var o=n(92),s=n(103),a=!1,i=function(t){a||n(91)},r=n(9)(o.a,s.a,!1,i,null,null);r.options.__file="mkApp/components/App.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.a=r.exports},91:function(t,e){},92:function(t,e,n){"use strict";var o=n(93),s=n.n(o),a=n(99),i=n(28);e.a={name:"App",components:{Loading:a.a},computed:s()({},Object(i.b)({isLoading:function(t){return t.isLoading}})),data:function(){return{section:"test section"}}}},99:function(t,e,n){"use strict";var o=n(101),s=n(102),a=!1,i=function(t){a||n(100)},r=n(9)(o.a,s.a,!1,i,"data-v-b408bb6a",null);r.options.__file="mkApp/widget/Loading.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),e.a=r.exports}},[57]);